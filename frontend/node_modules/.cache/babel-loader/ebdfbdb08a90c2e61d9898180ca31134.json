{"ast":null,"code":"export const axiosCalls = () => {\n  if (localStorage.getItem(\"access\")) {\n    axios.get(\"auth/user/\", access).then(res => {\n      this.setState({\n        username: res.data.username\n      });\n    }).catch(err => {\n      axios.post(\"auth/token/refresh/\", this.state).then(res => {\n        localStorage.setItem(\"access\", res.data.access);\n        axios.get(\"auth/user/\", access).then(res => {\n          this.setState({\n            username: res.data.username\n          });\n        }).catch(err => {\n          this.setState({\n            username: \"\"\n          });\n          localStorage.clear();\n        });\n      });\n    });\n  }\n};","map":{"version":3,"sources":["C:/Users/Mega-PC/Desktop/develop/back end/django/my-project/frontend/src/components/axiosCalls.js"],"names":["axiosCalls","localStorage","getItem","axios","get","access","then","res","setState","username","data","catch","err","post","state","setItem","clear"],"mappings":"AAAA,OAAO,MAAMA,UAAU,GAAG,MAAM;AAC9B,MAAIC,YAAY,CAACC,OAAb,CAAqB,QAArB,CAAJ,EAAoC;AAClCC,IAAAA,KAAK,CACFC,GADH,CACO,YADP,EACqBC,MADrB,EAEGC,IAFH,CAESC,GAAD,IAAS;AACb,WAAKC,QAAL,CAAc;AAAEC,QAAAA,QAAQ,EAAEF,GAAG,CAACG,IAAJ,CAASD;AAArB,OAAd;AACD,KAJH,EAKGE,KALH,CAKUC,GAAD,IAAS;AACdT,MAAAA,KAAK,CAACU,IAAN,CAAW,qBAAX,EAAkC,KAAKC,KAAvC,EAA8CR,IAA9C,CAAoDC,GAAD,IAAS;AAC1DN,QAAAA,YAAY,CAACc,OAAb,CAAqB,QAArB,EAA+BR,GAAG,CAACG,IAAJ,CAASL,MAAxC;AACAF,QAAAA,KAAK,CACFC,GADH,CACO,YADP,EACqBC,MADrB,EAEGC,IAFH,CAESC,GAAD,IAAS;AACb,eAAKC,QAAL,CAAc;AAAEC,YAAAA,QAAQ,EAAEF,GAAG,CAACG,IAAJ,CAASD;AAArB,WAAd;AACD,SAJH,EAKGE,KALH,CAKUC,GAAD,IAAS;AACd,eAAKJ,QAAL,CAAc;AAAEC,YAAAA,QAAQ,EAAE;AAAZ,WAAd;AACAR,UAAAA,YAAY,CAACe,KAAb;AACD,SARH;AASD,OAXD;AAYD,KAlBH;AAmBD;AACF,CAtBM","sourcesContent":["export const axiosCalls = () => {\r\n  if (localStorage.getItem(\"access\")) {\r\n    axios\r\n      .get(\"auth/user/\", access)\r\n      .then((res) => {\r\n        this.setState({ username: res.data.username });\r\n      })\r\n      .catch((err) => {\r\n        axios.post(\"auth/token/refresh/\", this.state).then((res) => {\r\n          localStorage.setItem(\"access\", res.data.access);\r\n          axios\r\n            .get(\"auth/user/\", access)\r\n            .then((res) => {\r\n              this.setState({ username: res.data.username });\r\n            })\r\n            .catch((err) => {\r\n              this.setState({ username: \"\" });\r\n              localStorage.clear();\r\n            });\r\n        });\r\n      });\r\n  }\r\n};\r\n"]},"metadata":{},"sourceType":"module"}