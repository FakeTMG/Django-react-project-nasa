{"ast":null,"code":"import axios from \"axios\";\nimport { FETCH_USERS_REQUEST, FETCH_USERS_SUCCESS, FETCH_USERS_FAILURE } from \"./userTypes\";\nimport { access, refresh } from \"../tokens\";\nexport const fetchUsers = () => {\n  return dispatch => {\n    dispatch(fetchUsersRequest());\n    axios.get(\"http://127.0.0.1:8000/auth/user/\", access).then(response => {\n      // response.data is the users\n      const users = response.data.username;\n      dispatch(fetchUsersSuccess(users));\n    }).catch(error => {\n      // error.message is the error message\n      dispatch(fetchUsersFailure(error));\n    });\n  };\n};\nexport const logout = e => {\n  return dispatch => {\n    dispatch(fetchUsersRequest());\n    axios.post(\"auth/logout/\", refresh, access).then(res => {\n      localStorage.clear();\n      window.location = \"/\";\n      const users = \"\";\n      dispatch(fetchUsersSuccess(users));\n    }).catch(error => {\n      console.log(error);\n      dispatch(fetchUsersFailure(error));\n    });\n  };\n};\nexport const userLogout = () => {\n  return {\n    type: FETCH_USERS_REQUEST\n  };\n};\nexport const fetchUsersRequest = () => {\n  return {\n    type: FETCH_USERS_REQUEST\n  };\n};\nexport const fetchUsersSuccess = users => {\n  return {\n    type: FETCH_USERS_SUCCESS,\n    payload: users\n  };\n};\nexport const fetchUsersFailure = error => {\n  return {\n    type: FETCH_USERS_FAILURE,\n    payload: error\n  };\n};","map":{"version":3,"sources":["C:/Users/Mega-PC/Desktop/develop/back end/django/my-project/frontend/src/redux/user/userActions.js"],"names":["axios","FETCH_USERS_REQUEST","FETCH_USERS_SUCCESS","FETCH_USERS_FAILURE","access","refresh","fetchUsers","dispatch","fetchUsersRequest","get","then","response","users","data","username","fetchUsersSuccess","catch","error","fetchUsersFailure","logout","e","post","res","localStorage","clear","window","location","console","log","userLogout","type","payload"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SACEC,mBADF,EAEEC,mBAFF,EAGEC,mBAHF,QAIO,aAJP;AAKA,SAASC,MAAT,EAAiBC,OAAjB,QAAgC,WAAhC;AAEA,OAAO,MAAMC,UAAU,GAAG,MAAM;AAC9B,SAAQC,QAAD,IAAc;AACnBA,IAAAA,QAAQ,CAACC,iBAAiB,EAAlB,CAAR;AACAR,IAAAA,KAAK,CACFS,GADH,CACO,kCADP,EAC2CL,MAD3C,EAEGM,IAFH,CAESC,QAAD,IAAc;AAClB;AACA,YAAMC,KAAK,GAAGD,QAAQ,CAACE,IAAT,CAAcC,QAA5B;AACAP,MAAAA,QAAQ,CAACQ,iBAAiB,CAACH,KAAD,CAAlB,CAAR;AACD,KANH,EAOGI,KAPH,CAOUC,KAAD,IAAW;AAChB;AACAV,MAAAA,QAAQ,CAACW,iBAAiB,CAACD,KAAD,CAAlB,CAAR;AACD,KAVH;AAWD,GAbD;AAcD,CAfM;AAiBP,OAAO,MAAME,MAAM,GAAIC,CAAD,IAAO;AAC3B,SAAQb,QAAD,IAAc;AACnBA,IAAAA,QAAQ,CAACC,iBAAiB,EAAlB,CAAR;AACAR,IAAAA,KAAK,CACFqB,IADH,CACQ,cADR,EACwBhB,OADxB,EACiCD,MADjC,EAEGM,IAFH,CAESY,GAAD,IAAS;AACbC,MAAAA,YAAY,CAACC,KAAb;AACAC,MAAAA,MAAM,CAACC,QAAP,GAAkB,GAAlB;AACA,YAAMd,KAAK,GAAG,EAAd;AACAL,MAAAA,QAAQ,CAACQ,iBAAiB,CAACH,KAAD,CAAlB,CAAR;AACD,KAPH,EAQGI,KARH,CAQUC,KAAD,IAAW;AAChBU,MAAAA,OAAO,CAACC,GAAR,CAAYX,KAAZ;AACAV,MAAAA,QAAQ,CAACW,iBAAiB,CAACD,KAAD,CAAlB,CAAR;AACD,KAXH;AAYD,GAdD;AAeD,CAhBM;AAkBP,OAAO,MAAMY,UAAU,GAAG,MAAM;AAC9B,SAAO;AACLC,IAAAA,IAAI,EAAE7B;AADD,GAAP;AAGD,CAJM;AAMP,OAAO,MAAMO,iBAAiB,GAAG,MAAM;AACrC,SAAO;AACLsB,IAAAA,IAAI,EAAE7B;AADD,GAAP;AAGD,CAJM;AAMP,OAAO,MAAMc,iBAAiB,GAAIH,KAAD,IAAW;AAC1C,SAAO;AACLkB,IAAAA,IAAI,EAAE5B,mBADD;AAEL6B,IAAAA,OAAO,EAAEnB;AAFJ,GAAP;AAID,CALM;AAOP,OAAO,MAAMM,iBAAiB,GAAID,KAAD,IAAW;AAC1C,SAAO;AACLa,IAAAA,IAAI,EAAE3B,mBADD;AAEL4B,IAAAA,OAAO,EAAEd;AAFJ,GAAP;AAID,CALM","sourcesContent":["import axios from \"axios\";\r\nimport {\r\n  FETCH_USERS_REQUEST,\r\n  FETCH_USERS_SUCCESS,\r\n  FETCH_USERS_FAILURE,\r\n} from \"./userTypes\";\r\nimport { access, refresh } from \"../tokens\";\r\n\r\nexport const fetchUsers = () => {\r\n  return (dispatch) => {\r\n    dispatch(fetchUsersRequest());\r\n    axios\r\n      .get(\"http://127.0.0.1:8000/auth/user/\", access)\r\n      .then((response) => {\r\n        // response.data is the users\r\n        const users = response.data.username;\r\n        dispatch(fetchUsersSuccess(users));\r\n      })\r\n      .catch((error) => {\r\n        // error.message is the error message\r\n        dispatch(fetchUsersFailure(error));\r\n      });\r\n  };\r\n};\r\n\r\nexport const logout = (e) => {\r\n  return (dispatch) => {\r\n    dispatch(fetchUsersRequest());\r\n    axios\r\n      .post(\"auth/logout/\", refresh, access)\r\n      .then((res) => {\r\n        localStorage.clear();\r\n        window.location = \"/\";\r\n        const users = \"\";\r\n        dispatch(fetchUsersSuccess(users));\r\n      })\r\n      .catch((error) => {\r\n        console.log(error)\r\n        dispatch(fetchUsersFailure(error));\r\n      });\r\n  };\r\n};\r\n\r\nexport const userLogout = () => {\r\n  return {\r\n    type: FETCH_USERS_REQUEST,\r\n  };\r\n}\r\n\r\nexport const fetchUsersRequest = () => {\r\n  return {\r\n    type: FETCH_USERS_REQUEST,\r\n  };\r\n};\r\n\r\nexport const fetchUsersSuccess = (users) => {\r\n  return {\r\n    type: FETCH_USERS_SUCCESS,\r\n    payload: users,\r\n  };\r\n};\r\n\r\nexport const fetchUsersFailure = (error) => {\r\n  return {\r\n    type: FETCH_USERS_FAILURE,\r\n    payload: error,\r\n  };\r\n};\r\n"]},"metadata":{},"sourceType":"module"}