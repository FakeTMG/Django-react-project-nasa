{"ast":null,"code":"const access = {\n  headers: {\n    Authorization: \"Bearer \" + localStorage.getItem(\"access\")\n  }\n};\nconst refresh = {\n  refresh: localStorage.getItem(\"refresh\")\n};\nexport const axiosCalls = () => {\n  if (localStorage.getItem(\"access\")) {\n    axios.get(\"auth/user/\", access).then(res => {\n      this.setState({\n        username: res.data.username\n      });\n    }).catch(err => {\n      axios.post(\"auth/token/refresh/\", this.state).then(res => {\n        localStorage.setItem(\"access\", res.data.access);\n        axios.get(\"auth/user/\", access).then(res => {\n          this.setState({\n            username: res.data.username\n          });\n        }).catch(err => {\n          this.setState({\n            username: \"\"\n          });\n          localStorage.clear();\n        });\n      });\n    });\n  }\n};","map":{"version":3,"sources":["C:/Users/Mega-PC/Desktop/develop/back end/django/my-project/frontend/src/components/axiosCalls.js"],"names":["access","headers","Authorization","localStorage","getItem","refresh","axiosCalls","axios","get","then","res","setState","username","data","catch","err","post","state","setItem","clear"],"mappings":"AACA,MAAMA,MAAM,GAAG;AACbC,EAAAA,OAAO,EAAE;AACPC,IAAAA,aAAa,EAAE,YAAYC,YAAY,CAACC,OAAb,CAAqB,QAArB;AADpB;AADI,CAAf;AAMA,MAAMC,OAAO,GAAG;AACdA,EAAAA,OAAO,EAAEF,YAAY,CAACC,OAAb,CAAqB,SAArB;AADK,CAAhB;AAIA,OAAO,MAAME,UAAU,GAAG,MAAM;AAC9B,MAAIH,YAAY,CAACC,OAAb,CAAqB,QAArB,CAAJ,EAAoC;AAClCG,IAAAA,KAAK,CACFC,GADH,CACO,YADP,EACqBR,MADrB,EAEGS,IAFH,CAESC,GAAD,IAAS;AACb,WAAKC,QAAL,CAAc;AAAEC,QAAAA,QAAQ,EAAEF,GAAG,CAACG,IAAJ,CAASD;AAArB,OAAd;AACD,KAJH,EAKGE,KALH,CAKUC,GAAD,IAAS;AACdR,MAAAA,KAAK,CAACS,IAAN,CAAW,qBAAX,EAAkC,KAAKC,KAAvC,EAA8CR,IAA9C,CAAoDC,GAAD,IAAS;AAC1DP,QAAAA,YAAY,CAACe,OAAb,CAAqB,QAArB,EAA+BR,GAAG,CAACG,IAAJ,CAASb,MAAxC;AACAO,QAAAA,KAAK,CACFC,GADH,CACO,YADP,EACqBR,MADrB,EAEGS,IAFH,CAESC,GAAD,IAAS;AACb,eAAKC,QAAL,CAAc;AAAEC,YAAAA,QAAQ,EAAEF,GAAG,CAACG,IAAJ,CAASD;AAArB,WAAd;AACD,SAJH,EAKGE,KALH,CAKUC,GAAD,IAAS;AACd,eAAKJ,QAAL,CAAc;AAAEC,YAAAA,QAAQ,EAAE;AAAZ,WAAd;AACAT,UAAAA,YAAY,CAACgB,KAAb;AACD,SARH;AASD,OAXD;AAYD,KAlBH;AAmBD;AACF,CAtBM","sourcesContent":["\r\nconst access = {\r\n  headers: {\r\n    Authorization: \"Bearer \" + localStorage.getItem(\"access\"),\r\n  },\r\n};\r\n\r\nconst refresh = {\r\n  refresh: localStorage.getItem(\"refresh\"),\r\n};\r\n\r\nexport const axiosCalls = () => {\r\n  if (localStorage.getItem(\"access\")) {\r\n    axios\r\n      .get(\"auth/user/\", access)\r\n      .then((res) => {\r\n        this.setState({ username: res.data.username });\r\n      })\r\n      .catch((err) => {\r\n        axios.post(\"auth/token/refresh/\", this.state).then((res) => {\r\n          localStorage.setItem(\"access\", res.data.access);\r\n          axios\r\n            .get(\"auth/user/\", access)\r\n            .then((res) => {\r\n              this.setState({ username: res.data.username });\r\n            })\r\n            .catch((err) => {\r\n              this.setState({ username: \"\" });\r\n              localStorage.clear();\r\n            });\r\n        });\r\n      });\r\n  }\r\n};\r\n"]},"metadata":{},"sourceType":"module"}